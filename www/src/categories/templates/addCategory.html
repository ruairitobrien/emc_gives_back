<ion-modal-view>

    <ion-header-bar>
        <h1 class="title">Create New Category</h1>
    </ion-header-bar>

    <ion-content>
        <form name="createCategoryForm" novalidate="" ng-submit="createNewCategory(category)">

            <div class="list">
                <label class="item item-input">
                    <label class="modal-input-label">Title: </label>
                    <input name="categoryTitle" type="text" ng-model="category.title" placeholder="Title" required>
                </label>

                <div class="error-container" ng-show="createCategoryForm.categoryTitle.$error"
                     ng-messages="createCategoryForm.categoryTitle.$error">
                    <div class="info" ng-message="required">
                        <i class="ion-information-circled"></i>
                        Category title is required
                    </div>
                </div>

                <label class="item item-input">
                    <label class="modal-input-label">Cover Image: </label>
                    <input name="categoryImage" type="file" placeholder="Image" valid-file
                           ng-model="categoryImageFileName"
                           onchange="angular.element(this).scope().setCategoryFiles(this)" required accept="image/*"/>
                </label>

                <div class="error-container last-error-container"
                     ng-show="createCategoryForm.categoryImage.$error"
                     ng-messages="createCategoryForm.categoryImage.$error">
                    <div class="info" ng-message="required">
                        <i class="ion-information-circled"></i>
                        Category cover image is required
                    </div>
                </div>

                <button type="button" class="button button-energized modal-form-button"
                        ng-click="cancelCreateCategory()">
                    Cancel
                </button>

                <button ng-show="!categoryModalProcessing"
                        class="button icon-right ion-checkmark-round button-balanced modal-form-button"
                        ng-disabled="!createCategoryForm.$valid" type="submit">
                    <b>Add Category</b>
                </button>
                <ion-spinner class="spinner-balanced" ng-if="categoryModalProcessing"></ion-spinner>
            </div>
        </form>

    </ion-content>
</ion-modal-view>