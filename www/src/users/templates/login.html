<ion-view view-title="Login" name="login-view">
    <ion-content class="padding">

        <form name="loginForm" novalidate="" ng-submit="loginCtrl.login(user)">
            <div class="list list-inset">
                <label class="item item-input"
                       ng-class="{ 'has-errors' : loginForm.username.$touched && loginForm.username.$invalid, 'no-errors' : loginForm.username.$valid}">
                    <input type="text" name="username" placeholder="Username" ng-model="user.username"
                           required autofocus>
                </label>

                <div class="error-container" ng-show="loginForm.username.$touched && loginForm.username.$error"
                     ng-messages="loginForm.username.$error">
                    <div ng-messages-include="login-error-list.html"></div>
                </div>

                <label class="item item-input"
                       ng-class="{ 'has-errors' : loginForm.password.$invalid && loginForm.$submitted, 'no-errors' : loginForm.password.$valid  && loginForm.$submitted}">
                    <input type="password" name="password" placeholder="Password" ng-model="user.password" required>
                </label>

                <div class="error-container last-error-container"
                     ng-show="loginForm.password.$error && loginForm.$submitted"
                     ng-messages="loginForm.password.$error">
                    <div ng-messages-include="login-error-list.html"></div>
                </div>
            </div>
            <button class="button button-block button-positive" type="submit" ng-disabled="!loginForm.$valid">Login
            </button>

            <a ui-sref="signup" class="button button-block button-calm">Signup</a>
        </form>


        <script id="login-error-list.html" type="text/ng-template">
            <div class="error" ng-message="required">
                <i class="ion-information-circled"></i>
                This field is required
            </div>
        </script>

    </ion-content>
</ion-view>